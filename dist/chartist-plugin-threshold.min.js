/* chartist-plugin-threshold 0.0.5
 * Copyright Â© 2019 Gion Kunz
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(a,b){"function"==typeof define&&define.amd?define(["chartist"],function(c){return a.returnExportsGlobal=b(c)}):"object"==typeof exports?module.exports=b(require("chartist")):a["Chartist.plugins.ctThreshold"]=b(Chartist)}(this,function(a){return function(a,b,c){"use strict";function d(a,b){var c,d,e,f=a.svg.querySelector("defs")||a.svg.elem("defs"),g=a.svg.width(),h=a.svg.height();if(a.options.horizontalBars?(c=a.axisX.projectValue(b.threshold)+a.chartRect.x1,d={x:c,y:0,width:g-c,height:h,fill:"white"},e={x:0,y:0,width:c,height:h,fill:"white"}):(c=a.chartRect.height()-a.axisY.projectValue(b.threshold)+a.chartRect.y2,d={x:0,y:0,width:g,height:c,fill:"white"},e={x:0,y:c,width:g,height:h-c,fill:"white"}),d.x<0&&(d.x=0),d.y<0&&(d.y=0),d.width<0&&(d.width=0),d.height<0&&(d.height=0),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.width<0&&(e.width=0),e.height<0&&(e.height=0),f.elem("mask",{x:0,y:0,width:g,height:h,maskUnits:"userSpaceOnUse",id:b.maskNames.aboveThresholdID}).elem("rect",d),f.elem("mask",{x:0,y:0,width:g,height:h,maskUnits:"userSpaceOnUse",id:b.maskNames.belowThresholdID}).elem("rect",e),b.showIndicator){var i,j,k,l=a.svg.querySelector("g.ct-indicator")||a.svg.elem("g").addClass("ct-indicator");a.options.horizontalBars?(i=c,j=10,k={x1:c,x2:c,y1:0,y2:h}):(i=10,j=c,k={x1:0,x2:g,y1:c,y2:c}),l.elem("text",{x:i,y:j,style:"text-anchor: middle"},"ct-label ct-value-label").text(b.threshold),l.elem("line",k,"ct-grid ct-horizontal")}return f}var e={threshold:0,showIndicator:!1,classNames:{aboveThreshold:"ct-threshold-above",belowThreshold:"ct-threshold-below"},maskNames:{aboveThreshold:"ct-threshold-mask-above",belowThreshold:"ct-threshold-mask-below"}};c.plugins=c.plugins||{},c.plugins.ctThreshold=function(a){return a=c.extend({},e,a),a.maskNames.aboveThresholdID=a.maskNames.aboveThreshold+"-"+Math.random().toString(36).substr(2,9),a.maskNames.belowThresholdID=a.maskNames.belowThreshold+"-"+Math.random().toString(36).substr(2,9),function(b){(b instanceof c.Line||b instanceof c.Bar)&&(b.on("draw",function(b){"point"===b.type?b.element.addClass(b.value.y>=a.threshold?a.classNames.aboveThreshold:a.classNames.belowThreshold):"line"!==b.type&&"bar"!==b.type&&"area"!==b.type||(b.element.parent().elem(b.element._node.cloneNode(!0),{},"",!0).attr({mask:"url(#"+a.maskNames.aboveThresholdID+")"}).addClass(a.classNames.aboveThreshold),b.element.attr({mask:"url(#"+a.maskNames.belowThresholdID+")"}).addClass(a.classNames.belowThreshold))}),b.on("created",function(b){d(b,a)}))}}}(window,document,a),a.plugins.ctThreshold});
//# sourceMappingURL=chartist-plugin-threshold.min.js.map